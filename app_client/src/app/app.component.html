<div class="row">

  <div class="col-lg-6">

    <div class="panel panel-default">

      <div class="panel-heading">
        Users
        <button type="button" class="btn btn-default btn-xs pull-right" (click)="onNewUser()">
          <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
        </button>
      </div>

      <div class="panel-body" *ngIf="newUser === true">
        <div class="row">
          <form>
            <div class="form-group col-lg-9">
              <input type="text" class="form-control input-sm" #userName placeholder="New user">
            </div>
            <div class="col-lg-3">
              <button type="button" class="btn btn-default btn-sm pull-right" (click)="addUser(userName.value); userName.value=''">
                <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
              </button>
            </div>
          </form>
        </div>
      </div>

      <ul class="list-group">
        <li class="list-group-item"
            *ngFor="let user of users"
            [class.list-group-item-info]="user === selectedUser">

          <div *ngIf="user === editUser; else userBlok">
            <div class="row">
              <form>
                <div class="form-group col-lg-9">
                  <input type="text" class="form-control input-sm" #userEditName placeholder="Edit user" value="{{user.name}}">
                </div>
                <div class="col-lg-3">
                  <div class="btn-group btn-group-sm pull-right" role="group" aria-label="...">
                    <button type="button" class="btn btn-link">
                      <span class="glyphicon glyphicon-remove" aria-hidden="true" (click)="getUsers()"></span>
                    </button>
                    <button type="button" class="btn btn-default">
                      <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true" (click)="saveUser(userEditName.value); userEditName.value=''"></span>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>

          <ng-template #userBlok>
            <div class="row">
              <div class="col-lg-9">
                <h4 class="list-group-item-heading">{{user.name}}</h4>
              </div>
              <div class="col-lg-3">
                <button type="button" class="btn btn-default btn-xs pull-right" (click)="onSelectUser(user)">
                  <span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span>
                </button>
                <div class="btn-group btn-group-xs pull-right" role="group" aria-label="..." *ngIf="user === selectedUser">
                  <button type="button" class="btn btn-link">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true" (click)="removeUser(user)"></span>
                  </button>
                  <button type="button" class="btn btn-link">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true" (click)="onEditUser(user)"></span>
                  </button>
                </div>
              </div>
            </div>
          </ng-template>

        </li>
      </ul>
    </div>
  </div>

  <div class="col-lg-6">

    <div class="panel panel-default" *ngIf="selectedUser">

      <div class="panel-heading">
        Workouts
        <button type="button" class="btn btn-default btn-xs pull-right" (click)="onNewWorkout()">
          <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
        </button>
      </div>

      <div class="panel-body" *ngIf="newWorkout === true">
        <div class="row">
          <form>
            <div class="form-group col-lg-9">
              <input type="text" class="form-control input-sm" #workoutName placeholder="New workout">
            </div>
            <div class="form-group col-lg-9">
              <input type="text" class="form-control input-sm" #workoutDescription placeholder="Description">
            </div>
            <div class="col-lg-3">
              <button type="button" class="btn btn-default btn-sm pull-right" (click)="addWorkout(workoutName.value, workoutDescription.value); workoutName.value=''; workoutDescription.value=''">
                <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
              </button>
            </div>
          </form>
        </div>
      </div>

      <ul class="list-group">
        <li class="list-group-item"
            *ngFor="let workout of workouts"
            [class.list-group-item-info]="workout === selectedWorkout">

          <div *ngIf="workout === editWorkout; else workoutBlok">
            <div class="row">
              <form>
                <div class="form-group col-lg-9">
                  <input type="text" class="form-control input-sm" #workoutEditName placeholder="Edit workout" value="{{workout.name}}">
                </div>
                <div class="form-group col-lg-9">
                  <input type="text" class="form-control input-sm" #workoutEditDescription placeholder="Edit description" value="{{workout.description}}">
                </div>
                <div class="col-lg-3">
                  <div class="btn-group btn-group-sm pull-right" role="group" aria-label="...">
                    <button type="button" class="btn btn-link">
                      <span class="glyphicon glyphicon-remove" aria-hidden="true" (click)="getWorkouts()"></span>
                    </button>
                    <button type="button" class="btn btn-default">
                      <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true" (click)="saveWorkout(workoutName.value, workoutDescription.value); workoutName.value=''; workoutDescription.value=''"></span>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>

          <ng-template #workoutBlok>
            <div class="row">
              <div class="col-lg-9">
                <h4 class="list-group-item-heading">{{workout.name}}</h4>
                <p class="list-group-item-text">{{workout.description}}</p>
              </div>
              <div class="col-lg-3">
                <div class="btn-group btn-group-xs pull-right" role="group" aria-label="...">
                  <button type="button" class="btn btn-default" (click)="onSelectWorkout(workout)">
                    <span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span>
                  </button>
                </div>
                <div class="btn-group btn-group-xs pull-right" role="group" aria-label="..." *ngIf="workout === selectedWorkout">
                  <button type="button" class="btn btn-link">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true" (click)="removeWorkout(workout)"></span>
                  </button>
                  <button type="button" class="btn btn-link">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true" (click)="onEditWorkout(workout)"></span>
                  </button>
                </div>
              </div>
            </div>
          </ng-template>

        </li>
      </ul>
    </div>
  </div>

</div>
<div class="row">
  <div class="col-lg-12">

    <div class="panel panel-default" *ngIf="selectedWorkout">

      <div class="panel-heading">
        Exercises
        <button type="button" class="btn btn-default btn-xs pull-right" (click)="onNewExercise()">
          <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
        </button>
      </div>

      <div class="panel-body" *ngIf="newExercise === true">
          <div class="row">
        <form>
            <div class="form-group col-lg-9">
              <input type="text" class="form-control input-sm" #exerciseName placeholder="New exercise">
            </div>
            <div class="form-group col-lg-9">
              <input type="text" class="form-control input-sm" #exerciseDescription placeholder="Description">
            </div>
            <div class="form-group col-lg-9">
              <input type="text" class="form-control input-sm" #exerciseSets placeholder="Sets">
            </div>
            <div class="form-group col-lg-9">
              <input type="text" class="form-control input-sm" #exerciseRepsTime placeholder="Reps/Time">
            </div>
            <div class="col-lg-3">
              <button type="button" class="btn btn-default btn-sm pull-right" (click)="addExercise(exerciseName.value, exerciseDescription.value, exerciseSets.value, exerciseRepsTime.value); exerciseName.value=''; exerciseDescription.value=''; exerciseSets.value=''; exerciseRepsTime.value=''">
                <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
              </button>
            </div>
        </form>
          </div>
      </div>

      <ul class="list-group">
        <li class="list-group-item"
            *ngFor="let exercise of exercises"
            [class.list-group-item-info]="exercise === selectedExercise">

          <div *ngIf="exercise === editExercise; else exerciseBlok">
            <div class="row">
            <form>
              <div class="form-group col-lg-9">
                <input type="text" class="form-control" #exerciseEditName placeholder="Edit exercise" value="{{exercise.name}}">
              </div>
              <div class="form-group col-lg-9">
                <input type="text" class="form-control input-sm" #exerciseEditDescription placeholder="Description" value="{{exercise.description}}">
              </div>
              <div class="form-group col-lg-9">
                <input type="number" class="form-control input-sm" #exerciseEditSets placeholder="Sets" value="{{exercise.sets}}">
              </div>
              <div class="form-group col-lg-9">
                <input type="text" class="form-control input-sm" #exerciseEditRepsTime placeholder="Reps/Time" value="{{exercise.reps_time}}">
              </div>
              <div class=" col-lg-3">
                <div class="btn-group btn-group-sm pull-right" role="group" aria-label="...">
                  <button type="button" class="btn btn-link">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true" (click)="getWorkouts()"></span>
                  </button>
                  <button type="button" class="btn btn-default">
                    <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true" (click)="saveExercise(exerciseEditName.value, exerciseEditDescription.value, exerciseEditSets.value, exerciseEditRepsTime.value); exerciseEditName.value=''; exerciseEditDescription.value=''; exerciseEditSets.value=''; exerciseEditRepsTime.value=''"></span>
                  </button>
                </div>
              </div>
            </form>
            </div>
          </div>

          <ng-template #exerciseBlok>
            <div class="row">
              <div class="col-lg-9">
                <h4 class="list-group-item-heading">{{exercise.name}}</h4>
                <p class="list-group-item-text">{{exercise.description}}</p>
                <p class="list-group-item-text">Sets: {{exercise.sets}}</p>
                <p class="list-group-item-text">Reps/Time: {{exercise.reps_time}}</p>
              </div>
              <div class="col-lg-3">
                <div class="btn-group btn-group-xs pull-right" role="group" aria-label="...">
                  <button type="button" class="btn btn-default" (click)="onSelectExercise(exercise)">
                    <span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span>
                  </button>
                </div>
                <div class="btn-group btn-group-xs pull-right" role="group" aria-label="..." *ngIf="exercise === selectedExercise">
                  <button type="button" class="btn btn-link">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true" (click)="removeExercise(exercise)"></span>
                  </button>
                  <button type="button" class="btn btn-link">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true" (click)="onEditExercise(exercise)"></span>
                  </button>
                </div>
              </div>
            </div>
          </ng-template>

        </li>
      </ul>
    </div>
  </div>

</div>
